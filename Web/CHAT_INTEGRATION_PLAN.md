# –ü–ª–∞–Ω –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —á–∞—Ç–∞

## üìä –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ

### –ß—Ç–æ –µ—Å—Ç—å:
1. ‚úÖ **–û—Ç–¥–µ–ª—å–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —á–∞—Ç–∞** - `/dashboard/chat/page.tsx`
   - –†–∞–±–æ—Ç–∞–µ—Ç —á–µ—Ä–µ–∑ API `/chat/message`
   - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç DeepSeek API
   - –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç function calling (tools)
   - –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –∏—Å—Ç–æ—Ä–∏—é –≤ –ë–î

2. ‚úÖ **Backend API** - `/backend/api/chat.py`
   - Endpoints –¥–ª—è —á–∞—Ç–∞
   - –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –º–æ–¥—É–ª—è–º–∏
   - RAG –∫–æ–Ω—Ç–µ–∫—Å—Ç
   - Function calling

3. ‚úÖ **–°—Å—ã–ª–∫–∞ –Ω–∞ –≥–ª–∞–≤–Ω–æ–π** - `/dashboard/page.tsx`
   - –ö–∞—Ä—Ç–æ—á–∫–∞ "–ß–∞—Ç —Å –ò–ò"
   - –í–µ–¥–µ—Ç –Ω–∞ `/dashboard/chat`

### –ß—Ç–æ –ù–ï –Ω—É–∂–Ω–æ:
- ‚ùå –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π —á–∞—Ç –≤ –¥—Ä—É–≥–∏—Ö —Å—Ç—Ä–∞–Ω–∏—Ü–∞—Ö
- ‚ùå –ü–ª–∞–≤–∞—é—â–∏–π –≤–∏–¥–∂–µ—Ç —á–∞—Ç–∞
- ‚ùå –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞

## üéØ –ó–∞–¥–∞—á–∞

**"–í —ç—Ç–æ–º –∂–µ –ø—Ä–æ–µ–∫—Ç–µ –µ—Å—Ç—å –ø–∞–ø–∫–∞ chatbot, —Ä–µ–∞–ª–∏–∑—É–π —á–∞—Ç —Å –ò–ò —á–µ—Ä–µ–∑ —ç—Ç–æ, –∞ —Ç—É—Ç —É–±–µ—Ä–∏ —á–∞—Ç —Å –ò–ò"**

### –ò–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏—è:
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Ö–æ—á–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π chatbot (–∏–∑ –ø–∞–ø–∫–∏ `/chatbot`) –≤–º–µ—Å—Ç–æ —Ç–µ–∫—É—â–µ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —á–∞—Ç–∞ –≤ Web.

### –ü—Ä–æ–±–ª–µ–º–∞:
`/chatbot` - —ç—Ç–æ –±–æ—Ç –¥–ª—è –º–µ—Å—Å–µ–Ω–¥–∂–µ—Ä–∞ MAKS (aiomax), –∞ –Ω–µ –≤–µ–±-—á–∞—Ç. –≠—Ç–æ —Ä–∞–∑–Ω—ã–µ –≤–µ—â–∏:
- **MAKS bot** - —Ä–∞–±–æ—Ç–∞–µ—Ç —á–µ—Ä–µ–∑ –º–µ—Å—Å–µ–Ω–¥–∂–µ—Ä MAKS
- **Web chat** - —Ä–∞–±–æ—Ç–∞–µ—Ç —á–µ—Ä–µ–∑ –±—Ä–∞—É–∑–µ—Ä

## üí° –í–æ–∑–º–æ–∂–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è

### –í–∞—Ä–∏–∞–Ω—Ç 1: –û—Å—Ç–∞–≤–∏—Ç—å –∫–∞–∫ –µ—Å—Ç—å
**–ü–ª—é—Å—ã:**
- –ß–∞—Ç —É–∂–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
- –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω —Å –º–æ–¥—É–ª—è–º–∏
- –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç function calling

**–ú–∏–Ω—É—Å—ã:**
- –ù–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∫–æ–¥ –∏–∑ `/chatbot`

### –í–∞—Ä–∏–∞–Ω—Ç 2: –°–æ–∑–¥–∞—Ç—å –µ–¥–∏–Ω—ã–π AI engine
**–ò–¥–µ—è:** –í—ã–Ω–µ—Å—Ç–∏ –ª–æ–≥–∏–∫—É –ò–ò –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–π —Å–µ—Ä–≤–∏—Å, –∫–æ—Ç–æ—Ä—ã–π –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∏ –≤–µ–±-—á–∞—Ç–æ–º, –∏ MAKS –±–æ—Ç–æ–º

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞:**
```
/ai_service
  - engine.py (–æ–±—â–∞—è –ª–æ–≥–∏–∫–∞ –ò–ò)
  - tools.py (function calling)
  - context.py (RAG)

/Web/backend
  - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç ai_service

/chatbot
  - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç ai_service
```

**–ü–ª—é—Å—ã:**
- –ï–¥–∏–Ω–∞—è –ª–æ–≥–∏–∫–∞ –ò–ò
- –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞
- –õ–µ–≥—á–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å

**–ú–∏–Ω—É—Å—ã:**
- –¢—Ä–µ–±—É–µ—Ç —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞
- –ë–æ–ª—å—à–µ –≤—Ä–µ–º–µ–Ω–∏ –Ω–∞ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é

### –í–∞—Ä–∏–∞–Ω—Ç 3: –£–±—Ä–∞—Ç—å –≤–µ–±-—á–∞—Ç, –æ—Å—Ç–∞–≤–∏—Ç—å —Ç–æ–ª—å–∫–æ MAKS –±–æ—Ç–∞
**–ü–ª—é—Å—ã:**
- –ü—Ä–æ—Å—Ç–æ–µ —Ä–µ—à–µ–Ω–∏–µ
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π chatbot

**–ú–∏–Ω—É—Å—ã:**
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –Ω–µ —Å–º–æ–≥—É—Ç –æ–±—â–∞—Ç—å—Å—è —Å –ò–ò —á–µ—Ä–µ–∑ –≤–µ–±
- –ù—É–∂–µ–Ω –º–µ—Å—Å–µ–Ω–¥–∂–µ—Ä MAKS
- –¢–µ—Ä—è–µ—Ç—Å—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª

## üöÄ –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–æ–µ —Ä–µ—à–µ–Ω–∏–µ

### –í–∞—Ä–∏–∞–Ω—Ç 2 (–º–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–π): –°–æ–∑–¥–∞—Ç—å –æ–±—â–∏–π AI –º–æ–¥—É–ª—å

**–®–∞–≥ 1:** –í—ã–Ω–µ—Å—Ç–∏ AI –ª–æ–≥–∏–∫—É –≤ –æ–±—â–∏–π –º–æ–¥—É–ª—å
```python
# /OPTIMIZATION/ai_core/engine.py
class UnifiedAIEngine:
    """–ï–¥–∏–Ω—ã–π –¥–≤–∏–∂–æ–∫ –ò–ò –¥–ª—è –≤—Å–µ—Ö –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤"""
    
    def __init__(self, api_key: str):
        self.client = AsyncOpenAI(
            api_key=api_key,
            base_url="https://api.deepseek.com"
        )
    
    async def chat_with_tools(self, messages, tools, executor):
        # –û–±—â–∞—è –ª–æ–≥–∏–∫–∞ –¥–ª—è –≤–µ–± –∏ –±–æ—Ç–∞
        pass
```

**–®–∞–≥ 2:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ Web
```python
# /Web/backend/core/ai.py
from ai_core.engine import UnifiedAIEngine

class AIEngine:
    def __init__(self):
        self.engine = UnifiedAIEngine(settings.DEEPSEEK_API_KEY)
```

**–®–∞–≥ 3:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ chatbot
```python
# /chatbot/handlers/ai_handler.py
from ai_core.engine import UnifiedAIEngine

async def handle_ai_message(message):
    engine = UnifiedAIEngine(config.DEEPSEEK_API_KEY)
    response = await engine.chat_with_tools(...)
```

**–®–∞–≥ 4:** –î–æ–±–∞–≤–∏—Ç—å –∫–Ω–æ–ø–∫—É –≤ –≤–µ–± –¥–ª—è –ø–µ—Ä–µ—Ö–æ–¥–∞ –≤ MAKS
```tsx
<div className="bg-blue-50 rounded-lg p-4">
  <p className="text-sm text-blue-900">
    üí° –¢–∞–∫–∂–µ –¥–æ—Å—Ç—É–ø–µ–Ω —á–µ—Ä–µ–∑ –º–µ—Å—Å–µ–Ω–¥–∂–µ—Ä MAKS!
  </p>
  <a href="https://max.ru/bot/your_bot" className="text-blue-600">
    –û—Ç–∫—Ä—ã—Ç—å –≤ MAKS ‚Üí
  </a>
</div>
```

## üìù –ß—Ç–æ –¥–µ–ª–∞—Ç—å –°–ï–ô–ß–ê–°

### –ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ (–±—ã—Å—Ç—Ä–æ):
1. ‚úÖ –û—Å—Ç–∞–≤–∏—Ç—å –≤–µ–±-—á–∞—Ç –∫–∞–∫ –µ—Å—Ç—å
2. ‚úÖ –î–æ–±–∞–≤–∏—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ MAKS –±–æ—Ç–µ
3. ‚úÖ –°–æ–∑–¥–∞—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é

### –ü–æ–ª–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ (–ø—Ä–∞–≤–∏–ª—å–Ω–æ):
1. üì¶ –°–æ–∑–¥–∞—Ç—å `/ai_core` –º–æ–¥—É–ª—å
2. üîÑ –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ Web/backend
3. üîÑ –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ chatbot
4. üîó –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –æ–±–æ–∏—Ö –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤

## ü§î –í–æ–ø—Ä–æ—Å –∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é

**–ß—Ç–æ –∏–º–µ–Ω–Ω–æ –≤—ã —Ö–æ—Ç–∏—Ç–µ?**

1. **–£–±—Ä–∞—Ç—å –≤–µ–±-—á–∞—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é?**
   - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –±—É–¥—É—Ç –æ–±—â–∞—Ç—å—Å—è —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ MAKS

2. **–û–±—ä–µ–¥–∏–Ω–∏—Ç—å –ª–æ–≥–∏–∫—É –ò–ò?**
   - –í–µ–±-—á–∞—Ç –∏ MAKS –±–æ—Ç –∏—Å–ø–æ–ª—å–∑—É—é—Ç –æ–¥–∏–Ω AI engine

3. **–û—Å—Ç–∞–≤–∏—Ç—å –æ–±–∞, –Ω–æ —É–ª—É—á—à–∏—Ç—å?**
   - –í–µ–±-—á–∞—Ç –æ—Å—Ç–∞–µ—Ç—Å—è
   - MAKS –±–æ—Ç –æ—Å—Ç–∞–µ—Ç—Å—è
   - –û–±—â–∞—è –ª–æ–≥–∏–∫–∞ –ò–ò

---

**–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, —É—Ç–æ—á–Ω–∏—Ç–µ —á—Ç–æ –∏–º–µ–Ω–Ω–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å!** üôè
