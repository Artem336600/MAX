# –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ

## –ö–∞–∫ –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—É—é —Ñ—É–Ω–∫—Ü–∏—é

### 1. –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–π –∫–æ–º–∞–Ω–¥—ã

**–®–∞–≥ 1:** –î–æ–±–∞–≤—å—Ç–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –≤ `handlers/commands.py`

```python
@bot.on_command('mycommand')
async def my_command(ctx: aiomax.CommandContext, cursor: fsm.FSMCursor):
    """–û–ø–∏—Å–∞–Ω–∏–µ –∫–æ–º–∞–Ω–¥—ã"""
    user_data = get_user_data(cursor)
    # –í–∞—à–∞ –ª–æ–≥–∏–∫–∞
    await ctx.reply("–û—Ç–≤–µ—Ç", keyboard=get_back_keyboard())
```

**–®–∞–≥ 2:** –î–æ–±–∞–≤—å—Ç–µ —Ç–µ–∫—Å—Ç –≤ `config.py` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

```python
@dataclass
class Messages:
    # ... —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è
    my_command_text: str = "–¢–µ–∫—Å—Ç –¥–ª—è –Ω–æ–≤–æ–π –∫–æ–º–∞–Ω–¥—ã"
```

**–®–∞–≥ 3:** –î–æ–±–∞–≤—å—Ç–µ –≤ —Å–ø—Ä–∞–≤–∫—É –≤ `config.Messages.help_text`

### 2. –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–π –∫–Ω–æ–ø–∫–∏

**–®–∞–≥ 1:** –°–æ–∑–¥–∞–π—Ç–µ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—É –≤ `keyboards/main.py`

```python
def get_my_keyboard() -> aiomax.buttons.KeyboardBuilder:
    """–û–ø–∏—Å–∞–Ω–∏–µ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã"""
    kb = aiomax.buttons.KeyboardBuilder()
    kb.add(aiomax.buttons.CallbackButton('–¢–µ–∫—Å—Ç', 'callback_id'))
    return kb
```

**–®–∞–≥ 2:** –î–æ–±–∞–≤—å—Ç–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –≤ `handlers/callbacks.py`

```python
@bot.on_button_callback('callback_id')
async def my_callback(callback: aiomax.Callback, cursor: fsm.FSMCursor):
    """–û–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–∞–∂–∞—Ç–∏—è –∫–Ω–æ–ø–∫–∏"""
    user_data = get_user_data(cursor)
    # –í–∞—à–∞ –ª–æ–≥–∏–∫–∞
    await callback.answer(text="–û—Ç–≤–µ—Ç", keyboard=get_my_keyboard())
```

**–®–∞–≥ 3:** –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—É –≤ `keyboards/__init__.py`

### 3. –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

**–®–∞–≥ 1:** –î–æ–±–∞–≤—å—Ç–µ –ø–æ–ª–µ –≤ `database/user_data.py`

```python
@dataclass
class UserData:
    # ... —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –ø–æ–ª—è
    my_new_field: int = 0
```

**–®–∞–≥ 2:** –î–æ–±–∞–≤—å—Ç–µ –º–µ—Ç–æ–¥ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ø–æ–ª–µ–º

```python
def add_my_field(self) -> int:
    """–£–≤–µ–ª–∏—á–∏—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ–ª—è"""
    self.my_new_field += 1
    return self.my_new_field
```

**–®–∞–≥ 3:** –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≤ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞—Ö

```python
user_data = get_user_data(cursor)
user_data.add_my_field()
update_user_data(cursor, user_data)
```

### 4. –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–π –∏–≥—Ä—ã/–º–µ—Ö–∞–Ω–∏–∫–∏

**–®–∞–≥ 1:** –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –≤ `config.py`

```python
@dataclass
class GameConfig:
    # ... —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
    my_game_setting: int = 100
```

**–®–∞–≥ 2:** –°–æ–∑–¥–∞–π—Ç–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –≤ `handlers/`

**–®–∞–≥ 3:** –°–æ–∑–¥–∞–π—Ç–µ —Ñ–æ—Ä–º–∞—Ç—Ç–µ—Ä—ã –≤ `utils/formatters.py`

```python
def format_my_game(data: dict) -> str:
    """–§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –Ω–æ–≤–æ–π –∏–≥—Ä—ã"""
    return f"–†–µ–∑—É–ª—å—Ç–∞—Ç: {data['result']}"
```

**–®–∞–≥ 4:** –î–æ–±–∞–≤—å—Ç–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è –≤ `utils/achievements.py` (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)

### 5. –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π

**–®–∞–≥ 1:** –î–æ–±–∞–≤—å—Ç–µ –≤ `utils/achievements.py`

```python
MY_GAME_ACHIEVEMENTS = {
    10: ("first_10_games", "üéÆ –ü–µ—Ä–≤—ã–µ 10 –∏–≥—Ä!"),
    50: ("first_50_games", "üî• 50 –∏–≥—Ä!"),
}
```

**–®–∞–≥ 2:** –°–æ–∑–¥–∞–π—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é –ø—Ä–æ–≤–µ—Ä–∫–∏

```python
def check_my_game_achievements(games: int) -> tuple[bool, str, str]:
    """–ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π –∏–≥—Ä—ã"""
    if games in MY_GAME_ACHIEVEMENTS:
        achievement_id, message = MY_GAME_ACHIEVEMENTS[games]
        return True, achievement_id, f"\n\n{message}"
    return False, "", ""
```

**–®–∞–≥ 3:** –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≤ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–µ

```python
has_achievement, achievement_id, motivation = check_my_game_achievements(user_data.games)
if has_achievement:
    user_data.add_achievement(achievement_id)
```

## –°—Ç–∏–ª—å –∫–æ–¥–∞

### –ò–º–µ–Ω–æ–≤–∞–Ω–∏–µ
- **–§—É–Ω–∫—Ü–∏–∏ –∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ**: `snake_case`
- **–ö–ª–∞—Å—Å—ã**: `PascalCase`
- **–ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã**: `UPPER_CASE`
- **–ü—Ä–∏–≤–∞—Ç–Ω—ã–µ**: `_leading_underscore`

### Docstrings
–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Google-style docstrings:

```python
def my_function(param1: str, param2: int) -> bool:
    """
    –ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏
    
    Args:
        param1: –û–ø–∏—Å–∞–Ω–∏–µ –ø–µ—Ä–≤–æ–≥–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞
        param2: –û–ø–∏—Å–∞–Ω–∏–µ –≤—Ç–æ—Ä–æ–≥–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞
        
    Returns:
        –û–ø–∏—Å–∞–Ω–∏–µ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è
    """
    pass
```

### Type Hints
–í—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ —Ç–∏–ø–æ–≤:

```python
def process_data(data: dict[str, int]) -> list[str]:
    """–û–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö"""
    return list(data.keys())
```

### –ò–º–ø–æ—Ä—Ç—ã
–ì—Ä—É–ø–ø–∏—Ä—É–π—Ç–µ –∏–º–ø–æ—Ä—Ç—ã:

```python
# –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞
import logging
from dataclasses import dataclass

# –°—Ç–æ—Ä–æ–Ω–Ω–∏–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏
import aiomax
from aiomax import fsm

# –õ–æ–∫–∞–ª—å–Ω—ã–µ –º–æ–¥—É–ª–∏
from config import messages
from database import get_user_data
```

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –†—É—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞: `python bot.py`
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤—Å–µ –Ω–æ–≤—ã–µ –∫–æ–º–∞–Ω–¥—ã –∏ –∫–Ω–æ–ø–∫–∏
3. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –¥–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≥—Ä–∞–Ω–∏—á–Ω—ã–µ —Å–ª—É—á–∞–∏

### –ß–µ–∫-–ª–∏—Å—Ç –ø–µ—Ä–µ–¥ –∫–æ–º–º–∏—Ç–æ–º
- [ ] –ö–æ–¥ —Å–ª–µ–¥—É–µ—Ç —Å—Ç–∏–ª—é –ø—Ä–æ–µ–∫—Ç–∞
- [ ] –î–æ–±–∞–≤–ª–µ–Ω—ã docstrings
- [ ] –î–æ–±–∞–≤–ª–µ–Ω—ã type hints
- [ ] –û–±–Ω–æ–≤–ª–µ–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã –≤—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è
- [ ] –ù–µ—Ç –∑–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –∫–æ–¥–∞
- [ ] –ù–µ—Ç –æ—Ç–ª–∞–¥–æ—á–Ω—ã—Ö print()

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–æ–º–º–∏—Ç–æ–≤

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø—Ä–µ—Ñ–∏–∫—Å—ã:
- `feat:` - –Ω–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏—è
- `fix:` - –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±–∞–≥–∞
- `docs:` - –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
- `refactor:` - —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –∫–æ–¥–∞
- `style:` - —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- `test:` - –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤

–ü—Ä–∏–º–µ—Ä—ã:
```
feat: –¥–æ–±–∞–≤–ª–µ–Ω–∞ –∫–æ–º–∞–Ω–¥–∞ /profile
fix: –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –æ—à–∏–±–∫–∞ –≤ –ø–æ–¥—Å—á–µ—Ç–µ –∫–ª–∏–∫–æ–≤
docs: –æ–±–Ω–æ–≤–ª–µ–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ
refactor: –≤—ã–Ω–µ—Å–µ–Ω—ã —Ñ–æ—Ä–º–∞—Ç—Ç–µ—Ä—ã –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–π –º–æ–¥—É–ª—å
```

## –ü–æ–ª–µ–∑–Ω—ã–µ —Å–æ–≤–µ—Ç—ã

### –û—Ç–ª–∞–¥–∫–∞
–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–º–µ—Å—Ç–æ print:

```python
import logging

logger = logging.getLogger(__name__)

logger.info("–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ")
logger.warning("–ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ")
logger.error("–û—à–∏–±–∫–∞")
```

### –†–∞–±–æ—Ç–∞ —Å FSM
–í—Å–µ–≥–¥–∞ –ø—Ä–æ–≤–µ—Ä—è–π—Ç–µ –¥–∞–Ω–Ω—ã–µ:

```python
user_data = get_user_data(cursor)
# user_data –≤—Å–µ–≥–¥–∞ –≤–∞–ª–∏–¥–Ω—ã–π –æ–±—ä–µ–∫—Ç UserData
```

### –ö–ª–∞–≤–∏–∞—Ç—É—Ä—ã
–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `row()` –¥–ª—è —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è –∫–Ω–æ–ø–æ–∫ –ø–æ —Ä—è–¥–∞–º:

```python
kb = aiomax.buttons.KeyboardBuilder()
kb.add(aiomax.buttons.CallbackButton('–ö–Ω–æ–ø–∫–∞ 1', 'btn1'))
kb.add(aiomax.buttons.CallbackButton('–ö–Ω–æ–ø–∫–∞ 2', 'btn2'))
kb.row()  # –ù–æ–≤—ã–π —Ä—è–¥
kb.add(aiomax.buttons.CallbackButton('–ö–Ω–æ–ø–∫–∞ 3', 'btn3'))
```

### –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ try-except –¥–ª—è –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π:

```python
try:
    # –û–ø–µ—Ä–∞—Ü–∏—è, –∫–æ—Ç–æ—Ä–∞—è –º–æ–∂–µ—Ç —É–ø–∞—Å—Ç—å
    result = risky_operation()
except Exception as e:
    logger.error(f"–û—à–∏–±–∫–∞: {e}")
    await ctx.reply("–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞, –ø–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–∑–∂–µ")
    return
```

## –í–æ–ø—Ä–æ—Å—ã?

–ï—Å–ª–∏ —É –≤–∞—Å –µ—Å—Ç—å –≤–æ–ø—Ä–æ—Å—ã –ø–æ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ, –∏–∑—É—á–∏—Ç–µ:
1. [ARCHITECTURE.md](ARCHITECTURE.md) - –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
2. [README.md](README.md) - –æ–±—â–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
3. –°—É—â–µ—Å—Ç–≤—É—é—â–∏–π –∫–æ–¥ –≤ –º–æ–¥—É–ª—è—Ö
